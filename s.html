<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<title>Document</title>
</head>
<body>
	<div class="container">
		<div class="inner">
			<h2 id="userid">Ao</h2>
			<h2 id="username"></h2>
			<h2 id="name"></h2>
		</div>
	</div>
	<div class="usercard" id="usercard">
		
	</div>

	<script src="https://telegram.org/js/telegram-web-app.js"></script>
	<script>
let tg = window.Telegram.WebApp;
tg.expand();

document.getElementById("userid").text = tg.initDataUnsafe.id;
document.getElementById("username").text = tg.initDataUnsafe.username;		
document.getElementById("name").text = tg.initDataUnsafe.first_name + " " + tg.initDataUnsafe.last_name;			
		
let item = "";
let btn1 = document.getElementById("btn1");

btn1.addEventListener("click", function(){
	if (tg.MainButton.isVisible) {
		tg.MainButton.hide();
	}
	else {
		tg.MainButton.setText("Вы выбрали товар 1!");
		item = "1";
		tg.MainButton.show();
	}
});

Telegram.WebApp.onEvent("mainButtonClicked", function(){
	tg.sendData(item);
});


let usercard = document.getElementById("usercard");

let p = document.createElement("p");

p.innerText = `${tg.initDataUnsafe.user.first_name}
${tg.initDataUnsafe.user.last_name}`;

usercard.appendChild(p);
		
</script>
</body>
</html>
